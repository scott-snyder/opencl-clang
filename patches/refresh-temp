Bottom: 7c75e58480ba565a1e424012e08c0f68085b0262
Top:    d8b207acc78f25bf88e4e537ed249c8835365d91
Author: scott snyder <sss@karma>
Date:   2020-05-22 00:01:05 -0400

Refresh of cmake

---

diff --git a/CMakeLists.txt b/CMakeLists.txt
index b8b514e..3b6d4c6 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -208,11 +208,14 @@ link_directories(
 
 set(OPENCL_CLANG_LINK_LIBS ${CMAKE_DL_LIBS})
 
-if(NOT LLVMSPIRVLib IN_LIST LLVM_AVAILABLE_LIBS OR (USE_PREBUILT_LLVM AND LLVM_LINK_LLVM_DYLIB))
+#if(NOT LLVMSPIRVLib IN_LIST LLVM_AVAILABLE_LIBS OR (USE_PREBUILT_LLVM AND LLVM_LINK_LLVM_DYLIB))
   # SPIRV-LLVM-Translator is not included into LLVM as a component.
   # So, we need to list it here explicitly as an external library
   list(APPEND OPENCL_CLANG_LINK_LIBS LLVMSPIRVLib)
-endif()
+#endif()
+
+list(APPEND OPENCL_CLANG_LINK_LIBS LLVMX86AsmParser)
+list(APPEND OPENCL_CLANG_LINK_LIBS LLVMX86CodeGen)
 
 add_subdirectory(cl_headers)
 
@@ -227,6 +230,7 @@ else()
 # All duplicate libraries are there on purpose
     clangBasic
     clangCodeGen
+    clangSYCLLowerIR
     clangDriver
     clangFrontend
     clangFrontendTool
